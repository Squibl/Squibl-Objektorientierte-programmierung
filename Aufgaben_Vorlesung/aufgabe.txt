#include <string>
#include <vector>
#include <iostream>

using namespace std;

// ------------------------------------------------------
// Basisklasse
// ------------------------------------------------------
class MyString
{
public:
    virtual ~MyString() {};

    virtual std::string to_string() const = 0;

    virtual int len() const = 0;

    virtual int find(const MyString &s) const = 0;

    virtual void clear() = 0;

    virtual void print() = 0;
};

// ------------------------------------------------------
// Abgeleitete Klasse "String"
// ------------------------------------------------------
class String : public MyString
{
private:
    vector<char> data;

public:
    // Konstruktoren
    String() {}

    String(const std::string &s)
    {
        for (char c : s)
            data.push_back(c);
    }

    // Konvertiert in std::string
    std::string to_string() const override
    {
        return std::string(data.begin(), data.end());
    }

    // LÃ¤nge des Strings
    int len() const override
    {
        return data.size();
    }

    // find-Funktion
    int find(const MyString &s) const override
    {
        std::string search = s.to_string();
        std::string base = this->to_string();

        size_t pos = base.find(search);
        if (pos == std::string::npos)
            return -1;
        return pos;
    }

    // clear
    void clear() override
    {
        data.clear();
    }

    // print
    void print() override
    {
        for (char c : data)
            cout << c;
        cout << "\n";
    }

    // ------------------------------------------------------
    // Operatoren
    // ------------------------------------------------------

    // +=  Append + Assign
    String &operator+=(const MyString &s)
    {
        std::string add = s.to_string();
        for (char c : add)
            data.push_back(c);

        return *this;
    }

    // Vergleichsoperatoren (String-basierend)
    bool operator==(const MyString &s) const
    {
        return this->to_string() == s.to_string();
    }

    bool operator!=(const MyString &s) const
    {
        return !(*this == s);
    }

    bool operator<(const MyString &s) const
    {
        return this->to_string() < s.to_string();
    }

    bool operator>(const MyString &s) const
    {
        return this->to_string() > s.to_string();
    }

    bool operator<=(const MyString &s) const
    {
        return !(*this > s);
    }

    bool operator>=(const MyString &s) const
    {
        return !(*this < s);
    }
};

// ------------------------------------------------------
// Beispiel main()
// ------------------------------------------------------
int main()
{
    String a("FH:");
    String b("Emden");

    a.print();
    b.print();

    a += b; // operator+=
    a.print();

    cout << "Length a: " << a.len() << endl;

    cout << "Find 'den': " << a.find(String("den")) << endl;

    cout << "Vergleich: ";
    if (a == b)
        cout << "gleich\n";
    else
        cout << "ungleich\n";

    return 0;
}
